recipe take @p enchanted_dyes:green_iron_leggings_2
advancement revoke @p only enchanted_dyes:recipes/green_iron_leggings_2
give @p minecraft:iron_leggings{Enchantments:[{id:"minecraft:thorns",lvl:2}]}
tag @p add green_iron_leggings_2