recipe take @p enchanted_dyes:purple_book_3
advancement revoke @p only enchanted_dyes:recipes/purple_book_3
give @p minecraft:book{Enchantments:[{id:"minecraft:protection",lvl:3}]}
tag @p add purple_book_3