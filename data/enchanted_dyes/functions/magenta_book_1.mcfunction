recipe take @p enchanted_dyes:magenta_book_1
advancement revoke @p only enchanted_dyes:recipes/magenta_book_1
give @p minecraft:book{Enchantments:[{id:"minecraft:infinity",lvl:1}]}
tag @p add magenta_book_1